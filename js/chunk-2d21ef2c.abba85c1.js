(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ef2c"],{d879:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row mx-0 mb-5 justify-content-center"},[a("form",{staticClass:"post_form col-lg-8 col-md-12 col-sm-12 col-12 pt-4",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[e._m(0),a("div",{staticClass:"form-group"},[a("label",{staticClass:"required",attrs:{for:"postTitle"}},[e._v("Название")]),a("div",{staticClass:"formWithSupText"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.title,expression:"title",modifiers:{trim:!0}}],staticClass:"post_form-control",attrs:{id:"postTitle",type:"text",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("span",{class:[e.$v.title.$dirty&&!e.$v.title.required?"invalid":"d-none"]},[e._v("Заполните это поле")])])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"required",attrs:{for:"postLocation"}},[e._v("Расположение")]),a("div",{staticClass:"formWithSupText"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.location,expression:"location",modifiers:{trim:!0}}],staticClass:"post_form-control",attrs:{id:"postLocation",type:"text",placeholder:"Адрес",autocomplete:"off"},domProps:{value:e.location},on:{input:function(t){t.target.composing||(e.location=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("span",{class:[e.$v.location.$dirty&&!e.$v.location.required?"invalid":"d-none"]},[e._v(" Заполните это поле ")])])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"required",attrs:{for:"postSpace"}},[e._v("Площадь")]),a("div",{staticClass:"formWithSupText"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.space,expression:"space",modifiers:{trim:!0}}],staticClass:"post_form-control w-25",attrs:{id:"postSpace",type:"number",min:"0",step:"any",autocomplete:"off"},domProps:{value:e.space},on:{input:function(t){t.target.composing||(e.space=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"post_form-suptext"},[e._v("га")]),a("span",{class:[e.$v.space.$dirty&&!e.$v.space.required?"invalid":"d-none"]},[e._v(" Заполните это поле ")])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Целевое назначение")]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.categories,expression:"categories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Товарное сельское хозяйство"},domProps:{checked:Array.isArray(e.categories)?e._i(e.categories,"Товарное сельское хозяйство")>-1:e.categories},on:{change:function(t){var a=e.categories,i=t.target,r=!!i.checked;if(Array.isArray(a)){var s="Товарное сельское хозяйство",o=e._i(a,s);i.checked?o<0&&(e.categories=a.concat([s])):o>-1&&(e.categories=a.slice(0,o).concat(a.slice(o+1)))}else e.categories=r}}}),a("span",[e._v("Товарное сельское хозяйство")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.categories,expression:"categories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Коммерческое"},domProps:{checked:Array.isArray(e.categories)?e._i(e.categories,"Коммерческое")>-1:e.categories},on:{change:function(t){var a=e.categories,i=t.target,r=!!i.checked;if(Array.isArray(a)){var s="Коммерческое",o=e._i(a,s);i.checked?o<0&&(e.categories=a.concat([s])):o>-1&&(e.categories=a.slice(0,o).concat(a.slice(o+1)))}else e.categories=r}}}),a("span",[e._v("Коммерческое")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.categories,expression:"categories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Многоэтажное жилищное строительство"},domProps:{checked:Array.isArray(e.categories)?e._i(e.categories,"Многоэтажное жилищное строительство")>-1:e.categories},on:{change:function(t){var a=e.categories,i=t.target,r=!!i.checked;if(Array.isArray(a)){var s="Многоэтажное жилищное строительство",o=e._i(a,s);i.checked?o<0&&(e.categories=a.concat([s])):o>-1&&(e.categories=a.slice(0,o).concat(a.slice(o+1)))}else e.categories=r}}}),a("span",[e._v("Многоэтажное жилищное строительство")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.categories,expression:"categories"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Индивидуальное жилищное строительство"},domProps:{checked:Array.isArray(e.categories)?e._i(e.categories,"Индивидуальное жилищное строительство")>-1:e.categories},on:{change:function(t){var a=e.categories,i=t.target,r=!!i.checked;if(Array.isArray(a)){var s="Индивидуальное жилищное строительство",o=e._i(a,s);i.checked?o<0&&(e.categories=a.concat([s])):o>-1&&(e.categories=a.slice(0,o).concat(a.slice(o+1)))}else e.categories=r}}}),a("span",[e._v("Индивидуальное жилищное строительство")])])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"required",attrs:{for:"image-upload"}},[e._v("Изображения")]),a("div",{staticClass:"formWithSupText"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputImage,expression:"inputImage",modifiers:{trim:!0}}],staticClass:"post_form-control",attrs:{id:"image-upload",type:"text",placeholder:"Вставьте ссылку и нажмите Enter",autocomplete:"off"},domProps:{value:e.inputImage},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addToImages(e.inputImage))},input:function(t){t.target.composing||(e.inputImage=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e.$v.inputImage.$dirty&&!e.$v.inputImage.url?a("span",{class:[e.$v.inputImage.$dirty&&!e.$v.inputImage.url?"invalid":"d-none"]},[e._v("Укажите ссылку")]):e.$v.images.$dirty&&!e.$v.images.required?a("span",{class:[e.$v.images.$dirty&&!e.$v.images.required?"invalid":"d-none"]},[e._v(" Минимальное кол-во изображений 1 ")]):e.$v.images.$dirty&&!e.$v.images.maxLength?a("span",{class:[e.$v.images.$dirty&&!e.$v.images.maxLength?"invalid":"d-none"]},[e._v(" Максимальное кол-во изображений 10 ")]):e._e()]),e.images.length?a("div",{staticClass:"imagesPreviewWrapper"},e._l(e.images,(function(t,i){return a("div",{key:i,staticClass:"imagePreviewContainer"},[a("img",{staticClass:"image-preview",attrs:{src:t}}),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.removeFromImages(i)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])})),0):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"postDescription"}},[e._v("Описание поста")]),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.description,expression:"description",modifiers:{trim:!0}}],staticClass:"post_form-control",attrs:{id:"postDescription",rows:"5"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.hot,expression:"hot"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"Активные торги"},domProps:{checked:Array.isArray(e.hot)?e._i(e.hot,"Активные торги")>-1:e.hot},on:{change:function(t){var a=e.hot,i=t.target,r=!!i.checked;if(Array.isArray(a)){var s="Активные торги",o=e._i(a,s);i.checked?o<0&&(e.hot=a.concat([s])):o>-1&&(e.hot=a.slice(0,o).concat(a.slice(o+1)))}else e.hot=r}}}),a("span",[e._v("Активные торги")])])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"formWithSupText"},[a("Datepicker",{attrs:{format:"dd.MM.yyyy","input-class":"post_form-control w-25",language:e.ru,"clear-button":!0,placeholder:"Дата торгов"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"postPrice"}},[e._v("Оценочная стоимость")]),a("div",{staticClass:"formWithSupText"},[a("input",{directives:[{name:"model",rawName:"v-model.number.trim",value:e.price,expression:"price",modifiers:{number:!0,trim:!0}}],staticClass:"post_form-control w-25",attrs:{id:"postPrice",type:"number",autocomplete:"off"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=e._n(t.target.value.trim()))},blur:function(t){return e.$forceUpdate()}}}),a("span",{staticClass:"post_form-suptext"},[e._v("тенге")])])]),a("button",{staticClass:"btn btn-create",attrs:{type:"submit"}},[e._v("Добавить")])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"post_form-title"},[a("span",[e._v("Новый участок")])])}],s=(a("a4d3"),a("e01a"),a("a434"),a("96cf"),a("1da1")),o=a("fa33"),c=a("2430"),n=a("b5ae"),l={name:"CreatePost",components:{Datepicker:o["a"]},data:function(){return{ru:c["ru"],title:"",description:"",location:"",space:"",categories:[],price:"",date:null,hot:!1,inputImage:"",images:[]}},validations:{title:{required:n["required"]},space:{required:n["required"]},location:{required:n["required"]},images:{required:n["required"],maxLength:Object(n["maxLength"])(10)},inputImage:{url:n["url"]}},methods:{submitHandler:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$v.$invalid){t.next=3;break}return e.$v.$touch(),t.abrupt("return");case 3:return a={title:e.title||"",description:e.description||"",price:e.price||"",location:e.location||"",space:e.space||"",date:e.date?new Date(e.date).toLocaleDateString():null,categories:e.categories||[],hot:e.hot||!1,images:e.images||[]},t.prev=4,t.next=7,e.$store.dispatch("createPost",a);case 7:i=t.sent,console.log(i),e.$router.push("/catalog"),e.$toast.open({message:"Пост был успешно создан!",type:"success"}),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](4);case 15:case"end":return t.stop()}}),t,null,[[4,13]])})))()},addToImages:function(e){this.$v.inputImage.$invalid?this.$v.inputImage.$touch():e&&(this.images.push(e),this.inputImage="")},removeFromImages:function(e){this.images.splice(e,1)}}},u=l,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d21ef2c.abba85c1.js.map